From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: MartijnMuijsers <martijnmuijsers@live.nl>
Date: Tue, 7 Jun 2022 11:08:01 +0200
Subject: [PATCH] Configuration to remove unrecognized recipe console logs


diff --git a/src/main/java/io/papermc/paper/configuration/GlobalConfiguration.java b/src/main/java/io/papermc/paper/configuration/GlobalConfiguration.java
index 6b0b65cbfdae0ef52d5584dd4d06fdf629dc9c3d..2461f3a4c4b1af9ef5fd032a0694613272b7ebdb 100644
--- a/src/main/java/io/papermc/paper/configuration/GlobalConfiguration.java
+++ b/src/main/java/io/papermc/paper/configuration/GlobalConfiguration.java
@@ -269,6 +269,16 @@ public class GlobalConfiguration extends ConfigurationPart {
 
     // Martijn end - survival debug stick
 
+    // Martijn start - customizable console logs
+
+    public ConsoleLogs consoleLogs;
+
+    public class ConsoleLogs extends ConfigurationPart {
+        public boolean unrecognizedRecipes = true; // Martijn - remove unrecognized recipe console logs
+    }
+
+    // Martijn end - customizable console logs
+
     public Messages messages;
 
     public class Messages extends ConfigurationPart {
diff --git a/src/main/java/net/minecraft/stats/ServerRecipeBook.java b/src/main/java/net/minecraft/stats/ServerRecipeBook.java
index d13ed3069e944d138442ea440ac3eaf8d44c18d3..b7ebaf8c17b5075989ae04224f837c7932ec6cdd 100644
--- a/src/main/java/net/minecraft/stats/ServerRecipeBook.java
+++ b/src/main/java/net/minecraft/stats/ServerRecipeBook.java
@@ -1,5 +1,6 @@
 package net.minecraft.stats;
 
+import com.destroystokyo.paper.PaperConfig;
 import com.google.common.collect.Lists;
 import com.mojang.logging.LogUtils;
 import java.util.Collection;
@@ -8,6 +9,8 @@ import java.util.Iterator;
 import java.util.List;
 import java.util.Optional;
 import java.util.function.Consumer;
+
+import io.papermc.paper.configuration.GlobalConfiguration;
 import net.minecraft.ResourceLocationException;
 import net.minecraft.advancements.CriteriaTriggers;
 import net.minecraft.nbt.CompoundTag;
@@ -122,7 +125,11 @@ public class ServerRecipeBook extends RecipeBook {
                 Optional<? extends Recipe<?>> optional = recipeManager.byKey(minecraftkey);
 
                 if (!optional.isPresent()) {
-                    ServerRecipeBook.LOGGER.error("Tried to load unrecognized recipe: {} removed now.", minecraftkey);
+                    // Martijn start - remove unrecognized recipe console logs
+                    if (GlobalConfiguration.get().consoleLogs.unrecognizedRecipes) {
+                        ServerRecipeBook.LOGGER.error("Tried to load unrecognized recipe: {} removed now.", minecraftkey);
+                    }
+                    // Martijn end - remove unrecognized recipe console logs
                 } else {
                     handler.accept((Recipe) optional.get());
                 }
