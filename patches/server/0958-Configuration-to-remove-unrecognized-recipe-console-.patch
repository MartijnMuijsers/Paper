From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: MartijnMuijsers <martijnmuijsers@live.nl>
Date: Tue, 7 Jun 2022 11:08:01 +0200
Subject: [PATCH] Configuration to remove unrecognized recipe console logs


diff --git a/src/main/java/com/destroystokyo/paper/PaperConfig.java b/src/main/java/com/destroystokyo/paper/PaperConfig.java
index 7c1a4f9e28bac81ecdab3d5333d03f6504d2954b..f2660f4d5f798832fc44941929d1f9d1b5ce2b91 100644
--- a/src/main/java/com/destroystokyo/paper/PaperConfig.java
+++ b/src/main/java/com/destroystokyo/paper/PaperConfig.java
@@ -91,6 +91,15 @@ public class PaperConfig {
         }
     }
 
+    // Martijn start - remove unrecognized recipe console logs
+
+    public static boolean logUnrecognizedRecipes = true;
+    private static void logUnrecognizedRecipes() {
+        logUnrecognizedRecipes = getBoolean("settings.log-unrecognized-recipes", logUnrecognizedRecipes);
+    }
+
+    // Martijn end - remove unrecognized recipe console logs
+
     // Martijn start - configurable server version
 
     /**
diff --git a/src/main/java/net/minecraft/stats/ServerRecipeBook.java b/src/main/java/net/minecraft/stats/ServerRecipeBook.java
index d13ed3069e944d138442ea440ac3eaf8d44c18d3..305c158bf43d51f0f141a74a078f2ca8b9ec2f57 100644
--- a/src/main/java/net/minecraft/stats/ServerRecipeBook.java
+++ b/src/main/java/net/minecraft/stats/ServerRecipeBook.java
@@ -1,5 +1,6 @@
 package net.minecraft.stats;
 
+import com.destroystokyo.paper.PaperConfig;
 import com.google.common.collect.Lists;
 import com.mojang.logging.LogUtils;
 import java.util.Collection;
@@ -122,7 +123,11 @@ public class ServerRecipeBook extends RecipeBook {
                 Optional<? extends Recipe<?>> optional = recipeManager.byKey(minecraftkey);
 
                 if (!optional.isPresent()) {
-                    ServerRecipeBook.LOGGER.error("Tried to load unrecognized recipe: {} removed now.", minecraftkey);
+                    // Martijn start - remove unrecognized recipe console logs
+                    if (PaperConfig.logUnrecognizedRecipes) {
+                        ServerRecipeBook.LOGGER.error("Tried to load unrecognized recipe: {} removed now.", minecraftkey);
+                    }
+                    // Martijn end - remove unrecognized recipe console logs
                 } else {
                     handler.accept((Recipe) optional.get());
                 }
