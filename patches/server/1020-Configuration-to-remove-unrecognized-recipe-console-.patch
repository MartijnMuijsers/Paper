From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: MartijnMuijsers <martijnmuijsers@live.nl>
Date: Tue, 7 Jun 2022 11:08:01 +0200
Subject: [PATCH] Configuration to remove unrecognized recipe console logs


diff --git a/src/main/java/io/papermc/paper/configuration/GlobalConfiguration.java b/src/main/java/io/papermc/paper/configuration/GlobalConfiguration.java
index 669389048b965aba2a8d55637cef20d2d1c64472..3d1d81443f8a2e86d598271d71c292b8a97e9f24 100644
--- a/src/main/java/io/papermc/paper/configuration/GlobalConfiguration.java
+++ b/src/main/java/io/papermc/paper/configuration/GlobalConfiguration.java
@@ -270,6 +270,16 @@ public class GlobalConfiguration extends ConfigurationPart {
 
     // Martijn end - survival debug stick
 
+    // Martijn start - customizable console logs
+
+    public ConsoleLogs consoleLogs;
+
+    public class ConsoleLogs extends ConfigurationPart {
+        public boolean unrecognizedRecipes = true; // Martijn - remove unrecognized recipe console logs
+    }
+
+    // Martijn end - customizable console logs
+
     public Messages messages;
 
     public class Messages extends ConfigurationPart {
diff --git a/src/main/java/net/minecraft/stats/ServerRecipeBook.java b/src/main/java/net/minecraft/stats/ServerRecipeBook.java
index 5e37685e8e0e251638dae6e47d934685fdd9c2b0..b7ebaf8c17b5075989ae04224f837c7932ec6cdd 100644
--- a/src/main/java/net/minecraft/stats/ServerRecipeBook.java
+++ b/src/main/java/net/minecraft/stats/ServerRecipeBook.java
@@ -1,5 +1,6 @@
 package net.minecraft.stats;
 
+import com.destroystokyo.paper.PaperConfig;
 import com.google.common.collect.Lists;
 import com.mojang.logging.LogUtils;
 import java.util.Collection;
@@ -8,6 +9,8 @@ import java.util.Iterator;
 import java.util.List;
 import java.util.Optional;
 import java.util.function.Consumer;
+
+import io.papermc.paper.configuration.GlobalConfiguration;
 import net.minecraft.ResourceLocationException;
 import net.minecraft.advancements.CriteriaTriggers;
 import net.minecraft.nbt.CompoundTag;
@@ -122,7 +125,11 @@ public class ServerRecipeBook extends RecipeBook {
                 Optional<? extends Recipe<?>> optional = recipeManager.byKey(minecraftkey);
 
                 if (!optional.isPresent()) {
-                    //ServerRecipeBook.LOGGER.error("Tried to load unrecognized recipe: {} removed now.", minecraftkey); // EMC
+                    // Martijn start - remove unrecognized recipe console logs
+                    if (GlobalConfiguration.get().consoleLogs.unrecognizedRecipes) {
+                        ServerRecipeBook.LOGGER.error("Tried to load unrecognized recipe: {} removed now.", minecraftkey);
+                    }
+                    // Martijn end - remove unrecognized recipe console logs
                 } else {
                     handler.accept((Recipe) optional.get());
                 }
