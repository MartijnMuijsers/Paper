From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: MartijnMuijsers <martijnmuijsers@live.nl>
Date: Mon, 17 Jan 2022 12:36:52 +0100
Subject: [PATCH] Add utility methods for getting the player's chunk


diff --git a/src/main/java/net/minecraft/server/level/ServerPlayer.java b/src/main/java/net/minecraft/server/level/ServerPlayer.java
index 7b23535a680d2a8534dcb8dd87770f66fb982c13..bb0756831a14b72c1c0d1334daa23c61e2a77535 100644
--- a/src/main/java/net/minecraft/server/level/ServerPlayer.java
+++ b/src/main/java/net/minecraft/server/level/ServerPlayer.java
@@ -347,6 +347,26 @@ public class ServerPlayer extends Player {
     }
     // Paper end
 
+    // Martijn start - getting the player's chunk
+
+    public int getChunkX() {
+        return getBlockX() >> 4;
+    }
+
+    public int getChunkZ() {
+        return getBlockZ() >> 4;
+    }
+
+    public ChunkPos getChunkPos() {
+        return new ChunkPos(getChunkX(), getChunkZ());
+    }
+
+    public long getChunkPosLongKey() {
+        return getChunkPos().longKey;
+    }
+
+    // Martijn end
+
     // Yes, this doesn't match Vanilla, but it's the best we can do for now.
     // If this is an issue, PRs are welcome
     public final BlockPos getSpawnPoint(ServerLevel worldserver) {
